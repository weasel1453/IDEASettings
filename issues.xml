<application>
  <component name="YouTrack Issues">
    <option name="persistentIssues">
      <map>
        <entry key="LSM tmclachlan@http://youtrack.intranet.ulsinc.com" value="[{&quot;id&quot;:&quot;ST-718&quot;,&quot;entityId&quot;:&quot;64-9200&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;718&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Move many parameters from MotionPlanningConfig.json to plain old C++ constants in the code&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Because of &lt;a href=\&quot;/issue/ST-131\&quot; target=\&quot;_self\&quot; title=\&quot;All of our JSON parsing code is using an invalid error-handling approach\&quot;&gt;ST-131&lt;/a&gt;, it is highly desirable to stop using rapidjson to serialize motion planning configuration parameters to/from disk. (The bogus error-handling approach adopted by this library in the name of performance can cause application termination if we try to access a JSON field that doesn&amp;#39;t exist.)&lt;br/&gt;&lt;br/&gt;My first proposed solution was to keep using JSON, but to use a different library to do it. This would require changing every line of code that currently accesses a JSON field.&lt;br/&gt;&lt;br/&gt;But if we&amp;#39;re going to touch every line of this code anyway,  I think now is a good time to address the fact that many of the values currently stored in MotionPlanningConfig.json are really not worth having in a JSON file in the first place.  These are global constants that hardly ever change &amp;ndash; maybe two or three of these constants have changed in the last four years.  These constants would be far easier to maintain if they were simply declared as constants directly in the C++ code.&lt;br/&gt;&lt;br/&gt;Besides that, all of these values are currently stored in an enormous catch-all struct generically named &amp;quot;Configuration&amp;quot;.  This is not a good design.  If we are going to change these values to C++ constants, those constants should be directly located in the classes that use them.&lt;br/&gt;&lt;br/&gt;This applies to all of the following JSON values:&lt;br/&gt;&lt;span class=\&quot;js-wrapper\&quot;&gt;&lt;/span&gt;&lt;pre class=\&quot;wikicode prettyprint\&quot;&gt;  &amp;quot;global options&amp;quot;: {&lt;br/&gt;    &amp;quot;servo update rate&amp;quot;: 0.0001,&lt;br/&gt;    &amp;quot;minimum fpga pulse duration&amp;quot;: 4E-08,&lt;br/&gt;    &amp;quot;number of axes&amp;quot;: 2,&lt;br/&gt;    &amp;quot;nurbs degree&amp;quot;: 3,&lt;br/&gt;    &amp;quot;artwork sampler&amp;quot;: {&lt;br/&gt;      &amp;quot;sampling resolution&amp;quot;: 0.001&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;path construction&amp;quot;: {&lt;br/&gt;      &amp;quot;max cornering error&amp;quot;: 0.005,&lt;br/&gt;      &amp;quot;max point removal distance&amp;quot;: 0.003,&lt;br/&gt;      &amp;quot;line length leveling factor&amp;quot;: 5.0,&lt;br/&gt;      &amp;quot;max pen up near projection distance&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;max pen up far projection distance&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;raster line margin&amp;quot;: 0.025,&lt;br/&gt;      &amp;quot;endpoint snap distance&amp;quot;: 0.001,&lt;br/&gt;      &amp;quot;kerf compensation nurbs segment length&amp;quot;: 0.001,&lt;br/&gt;      &amp;quot;kerf compensation nurbs segment length tolerance factor&amp;quot;: 0.316,&lt;br/&gt;      &amp;quot;nurbs metrics segment length&amp;quot;: 0.01,&lt;br/&gt;      &amp;quot;nurbs metrics segment length tolerance factor&amp;quot;: 0.316&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;path optimization&amp;quot;: {&lt;br/&gt;      &amp;quot;nearest neighbor y motion penalty factor&amp;quot;: 3.0&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;beudaert planner&amp;quot;: {&lt;br/&gt;      &amp;quot;root finding tolerance absolute&amp;quot;: 1E-16,&lt;br/&gt;      &amp;quot;constraint box tolerance absolute&amp;quot;: 1E-10,&lt;br/&gt;      &amp;quot;duplicate intersection tolerance absolute&amp;quot;: 1E-10,&lt;br/&gt;      &amp;quot;tangential velocity tolerance absolute&amp;quot;: 1E-10,&lt;br/&gt;      &amp;quot;max tangential velocity iterations&amp;quot;: 50,&lt;br/&gt;      &amp;quot;num u min steps on backtrack&amp;quot;: 20,&lt;br/&gt;      &amp;quot;max crawl steps per try&amp;quot;: 1,&lt;br/&gt;      &amp;quot;crawl delta u divider&amp;quot;: 1000000.0,&lt;br/&gt;      &amp;quot;minimum knots to trigger subdivision&amp;quot;: 100,&lt;br/&gt;      &amp;quot;extrema finding delta u sub-sampling factor&amp;quot;: 500,&lt;br/&gt;      &amp;quot;extrema finding max samples per inch&amp;quot;: 5000,&lt;br/&gt;      &amp;quot;search bounds delta u sub-sampling factor&amp;quot;: 50,&lt;br/&gt;      &amp;quot;search bounds max samples per inch&amp;quot;: 5000,&lt;br/&gt;      &amp;quot;vector limit relaxation velocity threshold&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;vector limit relaxation acceleration multiplier&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;vector limit relaxation jerk multiplier&amp;quot;: 4.0,&lt;br/&gt;      &amp;quot;raster limit relaxation line length threshold&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;raster limit relaxation acceleration multiplier&amp;quot;: 2.0,&lt;br/&gt;      &amp;quot;raster limit relaxation jerk multiplier&amp;quot;: 4.0&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;available motion up-samplers&amp;quot;: [&lt;br/&gt;      &amp;quot;u domain, linear&amp;quot;,&lt;br/&gt;      &amp;quot;Cartesian domain, linear&amp;quot;,&lt;br/&gt;      &amp;quot;u domain, Akima&amp;quot;,&lt;br/&gt;      &amp;quot;Cartesian domain, Akima&amp;quot;&lt;br/&gt;    ],&lt;br/&gt;    &amp;quot;selected motion up-sampler&amp;quot;: &amp;quot;Cartesian domain, linear&amp;quot;,&lt;br/&gt;    &amp;quot;available feed-forward up-samplers&amp;quot;: [&lt;br/&gt;      &amp;quot;Cartesian domain, linear&amp;quot;,&lt;br/&gt;      &amp;quot;Cartesian domain, Akima&amp;quot;&lt;br/&gt;    ],&lt;br/&gt;    &amp;quot;selected feed-forward up-sampler&amp;quot;: &amp;quot;Cartesian domain, linear&amp;quot;,&lt;br/&gt;    &amp;quot;pulse compensator&amp;quot;: {&lt;br/&gt;      &amp;quot;enabled&amp;quot;: true,&lt;br/&gt;      &amp;quot;start time tmax&amp;quot;: 1.4E-05,&lt;br/&gt;      &amp;quot;start time tlagmax&amp;quot;: 2.72E-05,&lt;br/&gt;      &amp;quot;start time b2&amp;quot;: 49000000.0,&lt;br/&gt;      &amp;quot;start time b3&amp;quot;: 410000000000.0,&lt;br/&gt;      &amp;quot;pulse width tlagmax&amp;quot;: 1.8E-05,&lt;br/&gt;      &amp;quot;pulse width b2&amp;quot;: 39130000.0,&lt;br/&gt;      &amp;quot;pulse width b3&amp;quot;: 36670000000.0&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;motion planning gui settings do not use&amp;quot;: {&lt;br/&gt;      &amp;quot;vector sorting mode&amp;quot;: &amp;quot;inner outer&amp;quot;,&lt;br/&gt;      &amp;quot;path optimization mode&amp;quot;: &amp;quot;nearest neighbor&amp;quot;,&lt;br/&gt;      &amp;quot;kerf width compensation mode&amp;quot;: &amp;quot;none&amp;quot;,&lt;br/&gt;      &amp;quot;kerf width&amp;quot;: 0.001,&lt;br/&gt;      &amp;quot;rotary enabled&amp;quot;: false,&lt;br/&gt;      &amp;quot;rotary radius&amp;quot;: 2.0,&lt;br/&gt;      &amp;quot;pulse compensator laser delay time 0&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;pulse compensator laser delay time 1&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;pulse compensator laser delay time 2&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;artwork x1&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;artwork y1&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;artwork x2&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;artwork y2&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;artwork x3&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;artwork y3&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;artwork x4&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;artwork y4&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;fiducial x1&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;fiducial y1&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;fiducial x2&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;fiducial y2&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;fiducial x3&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;fiducial y3&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;fiducial x4&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;fiducial y4&amp;quot;: 1.0,&lt;br/&gt;      &amp;quot;pierce on pen down&amp;quot;: false,&lt;br/&gt;      &amp;quot;drill pulse period laser 1&amp;quot;: 0.001,&lt;br/&gt;      &amp;quot;drill pulse period laser 2&amp;quot;: 0.003,&lt;br/&gt;      &amp;quot;drill pulse period laser 3&amp;quot;: 0.005,&lt;br/&gt;      &amp;quot;drill duty cycle laser 1&amp;quot;: 20,&lt;br/&gt;      &amp;quot;drill duty cycle laser 2&amp;quot;: 30,&lt;br/&gt;      &amp;quot;drill duty cycle laser 3&amp;quot;: 40,&lt;br/&gt;      &amp;quot;drill dwell time laser 1&amp;quot;: 0.02,&lt;br/&gt;      &amp;quot;drill dwell time laser 2&amp;quot;: 0.03,&lt;br/&gt;      &amp;quot;drill dwell time laser 3&amp;quot;: 0.04&lt;br/&gt;    }&lt;br/&gt;  },&lt;/pre&gt;&lt;span class=\&quot;js-wrapper\&quot;&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;prettyPrint();\n\n&lt;/script&gt;\n&lt;/span&gt;&lt;br/&gt;I have not assigned this issue to the current sprint because it is not strictly necessary before our initial software release. Tyler is working on this task on an SVN branch that will have no effect on the trunk software or the initial released software unless it gets done in time, and the management decides to incorporate this feature into the initial release.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1533926436566&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535636650622&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-131&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;In Progress&quot;],&quot;valueId&quot;:[&quot;In Progress&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-17446&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-718&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt;, I have partially completed this task; I removed all of the &amp;quot;global options&amp;quot; from the MotionPlanningConfig.json file.  They are now only represented as C++ constants in the Configuration class, with the same values that used to be in the JSON file.  It is easy to tell which options were affected &amp;ndash; they are identified as &amp;quot;const&amp;quot; members of the Configuration class.&lt;br/&gt;&lt;br/&gt;The only data that remains in MotionPlanningConfig.json is kinematic parameters, the subject of &lt;a href=\&quot;/issue/ST-720\&quot; target=\&quot;_self\&quot; title=\&quot;Store laser system-specific kinematic parameters on the laser system SD card\&quot;&gt;ST-720&lt;/a&gt;.&lt;br/&gt;&lt;br/&gt;I still think a second refactoring would be nice here.  I think most (or probably all) of these constants in the Configuration class are actually only used by one other class.  Those constants should be moved to the class that uses them.  For classes which formerly took a Configuration reference in their constructor, if their only use of that Configuration reference was to access these constants, remove the Configuration dependency from the class.&lt;br/&gt;&lt;br/&gt;There are still seven data members of the Configuration class that are not const.  Those are changeable at run-time.  They are mostly exposed to the user as job settings.  I think once we have got all the extraneous stuff out of the Configuration class, it may become pretty obvious that the Configuration class has entirely outlived its purpose.  The remaining variables should probably be managed entirely as fields of PrintSettings/PrintParams and passed around as individual parameters to the places that need them.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535636650622,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-720&quot;,&quot;entityId&quot;:&quot;64-9204&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;720&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Store laser system-specific kinematic parameters on the laser system SD card&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Because of &lt;a href=\&quot;/issue/ST-131\&quot; target=\&quot;_self\&quot; title=\&quot;All of our JSON parsing code is using an invalid error-handling approach\&quot;&gt;ST-131&lt;/a&gt;, it is highly desirable to stop using rapidjson to serialize motion planning configuration parameters (including laser system-specific kinematic parameters) to/from disk. (The bogus error-handling approach adopted by this library in the name of performance can cause application termination if we try to access a JSON field that doesn&amp;#39;t exist.)&lt;br/&gt;&lt;br/&gt;My first proposed solution was to keep using JSON, but to use a different library to do it. This would require changing every line of code that currently accesses a JSON field.&lt;br/&gt;&lt;br/&gt;But if we&amp;#39;re going to touch every line of this code anyway, I think this is a good time to address several other technical issues with the way the kinematic parameters are stored.&lt;br/&gt;&lt;br/&gt;First of all, JSON is not an ideal way to access this highly-structured data.  Although JSON is meant to be human readable, the motion planning configuration JSON file is so deeply nested and large that it is basically impossible to navigate.  Instead, I had to create a graphical user interface to manage the content of this file (the so-called &amp;quot;Planning GUI&amp;quot;).  This file is essentially being treated as if it was not human readable.&lt;br/&gt;&lt;br/&gt;Second, the laser system-specific kinematic parameters for all laser systems are stored in a single JSON file.  We extract the correct parameters for the currently-attached laser system by looking up that laser system&amp;#39;s model number in the file.  This is one of the few remaining places in the control service code that relies on the concept of a &amp;quot;model&amp;quot;.  We have a system-wide design goal of eliminating the &amp;quot;model&amp;quot; concept.  Instead, parameters that are specific to a laser system should be stored on that laser system&amp;#39;s SD card, then accessed by the control service when the laser system is connected.  This is how we handle the MachineConfiguration class, for example.  The MachineConfiguration class is backed by data stored in the file DEVCAPS.INI on the laser system SD card.&lt;br/&gt;&lt;br/&gt;The INI file format would be an even worse format than JSON for storing motion planning configuration parameters, because INI files can only support up to two levels of organization.  So I am sure I don&amp;#39;t want to store these parameters in DEVCAPS.INI or any other INI file.  The INI format was a good choice for DEVCAPS.INI because the ULTRA CPU firmware needed to access values from this file, and it did not take much program space to include an INI file parser in the ULTRA CPU firmware.  But the ULTRA CPU firmware doesn&amp;#39;t need to know anything about the motion planning parameters.  The motion planning parameter file can be treated as a black box by the ULTRA CPU firmware.&lt;br/&gt;&lt;br/&gt;I think it would be worth some time to investigate the advantages of storing the kinematic parameters in a relational database, with proper tables and queries.  Do not be concerned that this would turn into a task anywhere near as large as the DB Server (now called the Materials service).  The kinematic parameters would likely be stored in three or four simple tables, and they would be accessed with just a couple of queries.&lt;br/&gt;&lt;br/&gt;If that doesn&amp;#39;t pan out, we can always fall back to storing the parameters in the Boost.Serialization format, as I have proposed for PrintParams and ImportOptions.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1533928118241&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535587746235&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;wvalentine&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Wendy Valentine&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;10&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-131&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;In Progress&quot;],&quot;valueId&quot;:[&quot;In Progress&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-16528&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Unlike the other tasks that are children of &lt;a href=\&quot;/issue/ST-131\&quot; target=\&quot;_self\&quot; title=\&quot;All of our JSON parsing code is using an invalid error-handling approach\&quot;&gt;ST-131&lt;/a&gt;, it would be nice to complete this task before any ULTRA systems are shipped, since it would entail storing a file on the ULTRA system SD card.  However, even if we didn&amp;#39;t complete this task before initial release, we could arrange for an updated control service to create this file on-the-fly and store it to the SD card after the fact.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1533928289780,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17108&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;As &lt;a href=\&quot;/user/drichter\&quot; title=\&quot;drichter\&quot;&gt;David Richter&lt;/a&gt; pointed out in &lt;a href=\&quot;http://youtrack.intranet.ulsinc.com/issue/ST-711#comment=69-17105\&quot; onclick=\&quot;window.open(window.decodeURIComponent('http%3A%2F%2Fyoutrack.intranet.ulsinc.com%2Fissue%2FST-711%23comment%3D69-17105'), '_blank').opener=null; return false;\&quot;&gt;http://youtrack.intranet.ulsinc.com/issue/ST-711#comment=69-17105&lt;/a&gt;, if we do decide to go with a database, we will probably need to develop a GUI front end for entering and modifying this data. (Although we&amp;#39;ve been getting by hand-editing our materials database for a couple of years now.)&lt;br/&gt;&lt;br/&gt;Learning from our past mistakes, we should certainly use a cross-platform GUI framework for that application.  The Camera Development GUI already uses Qt, so we have already taken on that dependency.  I have used this application on both Windows and Linux, so the cross-platform part definitely works.  Also, we already know have expertise with SOCI for C++ database access.&lt;br/&gt;&lt;br/&gt;Because of the time constraints I mentioned in my 8/10 note, I propose that &lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; start looking into this as soon as he wraps up &lt;a href=\&quot;/issue/ST-716\&quot; target=\&quot;_self\&quot; title=\&quot;Serialize PrintParams to/from disk using Boost.Serialization instead of JSON\&quot;&gt;ST-716&lt;/a&gt;.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535038856728,&quot;updated&quot;:1533928289765,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17250&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; and I reviewed the affected parameters.  On closer inspection, there are fewer laser system-dependent variables than I originally thought.  I think a database might be a heavier weight solution than is warranted by the very small amount of data.&lt;br/&gt;&lt;br/&gt;The &amp;quot;selector&amp;quot; values are:&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt;Model name&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Vector acceleration (0, 50, or 100)&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Raster acceleration (0, 50, or 100)&lt;br/&gt;&lt;/li&gt;&lt;li&gt;X axis configuration&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Y or R axis configuration&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Pen state (pen up vector, pen down vector, raster)&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;Here are the fields of MotionPlanningConfig.json that depend on these selectors.  The top level selector for all of them is Model name, which will be eliminated.  Only the values that are appropriate for the laser system will be stored on that laser system&amp;#39;s SD card.&lt;br/&gt;&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt;For each axis&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Minimum value, maximum value, field margin, and resolution. These are already redundant with values in DEVCAPS.INI (&lt;a href=\&quot;/issue/ST-767\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Planning library, use MachineConfiguration class to get some axis parameters\&quot;&gt;ST-767&lt;/a&gt;)&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;For each axis, for each axis configuration&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Feed forward parameters (7 numbers, not used anywhere)&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Servo parameters (10 numbers, not used anywhere)&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;For each quality&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;FPGA parameters (four numbers, not used anywhere)&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;For each quality, for each pen state&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Maximum tangential velocity&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;For each axis, for each configuration, for each quality, for each pen state&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Maximum axial velocity&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Maximum axial acceleration&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Maximum axial jerk&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;Taking away the parameters that are already available in DEVCAPS.INI and parameters that have never been used, the list is very short.  They are restricted to kinematic limits:&lt;br/&gt;&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt;For each quality, for each pen state&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Maximum tangential velocity&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;For each axis, for each configuration, for each quality, for each pen state&lt;br/&gt;&lt;ul class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt;Maximum axial velocity&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Maximum axial acceleration&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Maximum axial jerk&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;As mentioned in my opening note, the technical difficulty with storing these values in DEVCAPS.INI is that INI files only provide two levels of organization.  INI files have sections, delimited by [ ] brackets.  Within each section, they have a list of key/value pairs.  But the parameters listed above are sometimes functions of as many as four variables (e.g. axis : configuration : quality : pen state).  It would be possible, but clunky, to represent all four variables in a single section name, e.g. &lt;br/&gt;&lt;br/&gt;&lt;span class=\&quot;monospace\&quot;&gt;[x : traveling exhaust : pen up vector : 50]&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;I would prefer to find some representation that makes it easy to tell if we have left out any necessary combinations, or specified illegal combinations.  (For example, the valid axis configurations are different for each axis.)  Also, even though there are only four input variables, there are 54 legal combinations of those four input variables, so the resulting INI file still might end up being almost as difficult to navigate and browse as the current JSON file:&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span class=\&quot;monospace\&quot;&gt;[x : standard            : pen up vector : 0]&lt;br/&gt;[x : standard            : pen up vector : 50]&lt;br/&gt;[x : standard            : pen up vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[x : standard            : pen down vector : 0]&lt;br/&gt;[x : standard            : pen down vector : 50]&lt;br/&gt;[x : standard            : pen down vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[x : standard            : raster: 0]&lt;br/&gt;[x : standard            : raster : 50]&lt;br/&gt;[x : standard            : raster : 100]&lt;br/&gt;   -----------------------------------------------&lt;br/&gt;[x : multi-wave          : pen up vector : 0]&lt;br/&gt;[x : multi-wave          : pen up vector : 50]&lt;br/&gt;[x : multi-wave          : pen up vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[x : multi-wave          : pen down vector : 0]&lt;br/&gt;[x : multi-wave          : pen down vector : 50]&lt;br/&gt;[x : multi-wave          : pen down vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[x : multi-wave          : raster: 0]&lt;br/&gt;[x : multi-wave          : raster : 50]&lt;br/&gt;[x : multi-wave          : raster : 100]&lt;br/&gt;==================================================&lt;br/&gt;[y : standard            : pen up vector : 0]&lt;br/&gt;[y : standard            : pen up vector : 50]&lt;br/&gt;[y : standard            : pen up vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[y : standard            : pen down vector : 0]&lt;br/&gt;[y : standard            : pen down vector : 50]&lt;br/&gt;[y : standard            : pen down vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[y : standard            : raster: 0]&lt;br/&gt;[y : standard            : raster : 50]&lt;br/&gt;[y : standard            : raster : 100]&lt;br/&gt;   -----------------------------------------------&lt;br/&gt;[y : traveling exhaust   : pen up vector : 0]&lt;br/&gt;[y : traveling exhaust   : pen up vector : 50]&lt;br/&gt;[y : traveling exhaust   : pen up vector : 100]&lt;br/&gt;                ----------------------------------&lt;br/&gt;[y : traveling exhaust   : pen down vector : 0]&lt;br/&gt;[y : traveling exhaust   : pen down vector : 50]&lt;br/&gt;[y : traveling exhaust   : pen down vector : 100]&lt;br/&gt;                ----------------------------------&lt;br/&gt;[y : traveling exhaust   : raster: 0]&lt;br/&gt;[y : traveling exhaust   : raster : 50]&lt;br/&gt;[y : traveling exhaust   : raster : 100]&lt;br/&gt;   -----------------------------------------------&lt;br/&gt;[y : superspeed          : pen up vector : 0]&lt;br/&gt;[y : superspeed          : pen up vector : 50]&lt;br/&gt;[y : superspeed          : pen up vector : 100]&lt;br/&gt;                ----------------------------------&lt;br/&gt;[y : superspeed          : pen down vector : 0]&lt;br/&gt;[y : superspeed          : pen down vector : 50]&lt;br/&gt;[y : superspeed          : pen down vector : 100]&lt;br/&gt;                ----------------------------------&lt;br/&gt;[y : superspeed          : raster: 0]&lt;br/&gt;[y : superspeed          : raster : 50]&lt;br/&gt;[y : superspeed          : raster : 100]&lt;br/&gt;==================================================&lt;br/&gt;[r : standard            : pen up vector : 0]&lt;br/&gt;[r : standard            : pen up vector : 50]&lt;br/&gt;[r : standard            : pen up vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[r : standard            : pen down vector : 0]&lt;br/&gt;[r : standard            : pen down vector : 50]&lt;br/&gt;[r : standard            : pen down vector : 100]&lt;br/&gt;                         -------------------------&lt;br/&gt;[r : standard            : raster: 0]&lt;br/&gt;[r : standard            : raster : 50]&lt;br/&gt;[r : standard            : raster : 100]&lt;/span&gt;&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535374592092,&quot;updated&quot;:1535379315715,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17253&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/drichter\&quot; title=\&quot;drichter\&quot;&gt;David Richter&lt;/a&gt;, no matter what representation we choose for these 54 sets of kinematic parameters (JSON file, INI file, relational database, or something else), I assume that there will be a library of kinematics files somewhere.  How will this library be organized?  On what basis will manufacturing personnel select a file from that library to copy to the laser system&amp;#39;s SD card?&lt;br/&gt;&lt;br/&gt;The reason I ask is, one of the best, most future-proof, readable, and maintainable ways to represent the above information would be as a data structure in the control service code, instead of in an external file that is accessed by the code.   If the code contained the entire &amp;quot;library&amp;quot; of kinematic limits, it would just need some criterion to select the correct limits set &amp;ndash; presumably the same criterion that a manufacturing person would have used to select the SD card file.&lt;br/&gt;&lt;br/&gt;In that case, maybe DEVCAPS.INI just needs a unique way to specify a selector value, which would then be used by the control service to look up the appropriate kinematic limits.  I know this sounds an awful lot like a &amp;quot;model number&amp;quot; &amp;ndash; the very concept we&amp;#39;re trying to eliminate.  But it need not be a model number.  It could be a descriptive string, for example.  Or maybe there is some other inherent, essential, descriptive trait of a laser system that would be more suitable as a basis for selection of kinematic limits instead of an identifier string. &lt;br/&gt;&lt;br/&gt;Our other question is about what we might expect to vary in the field or in the future.  Can owners of our laser systems reconfigure them in the field to the extent that a new set of kinematic parameters would apply to that system?  What would trigger the use of new kinematic parameters?  Even more fundamentally, currently we support three x-axis configurations and two y-axis configurations.  Is it possible that ULS will someday invent entirely new axis configurations that our code currently knows nothing about?  How should those be accommodated?&lt;br/&gt;&lt;br/&gt;Until we know more about the data will be used, I don&amp;#39;t think we can make a good decision about how to represent it.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535380837473,&quot;updated&quot;:1535374592076,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17314&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Thinking on this further, I am still sure that we do not want to represent this data in an INI format.  It is just too unnatural to represent four levels of organization in a two-level file format.&lt;br/&gt;&lt;br/&gt;If the data is going to be represented as a file that can be stored on the laser system&amp;#39;s SD card (which will not necessarily be the case, depending on David&amp;#39;s answers to yesterday&amp;#39;s questions), I still think that JSON is the right way to go.  However, we can significantly simplify the schema for that JSON file compared to MotionPlanningConfig.json now that this file has had all of its unused data stripped out.  [I made some quirky decisions when I designed the original format for reasons that aren&amp;#39;t obvious now; I repent of them.]&lt;br/&gt;&lt;br/&gt;Here is a possible JSON representation for the kinematic limits for a given laser system. It is simply a four-level-deep nested structure, with the levels appearing in the order pen state -&amp;gt; optimization -&amp;gt; axis -&amp;gt; axis configuration.   I think this representation has the following advantages:&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt;It is fairly self-descriptive&lt;br/&gt;&lt;/li&gt;&lt;li&gt;It is directly human editable (especially if the human has an outlining text editor).  We need not develop a cross-platform graphical user interface to maintain it.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;I estimate that the C++ JSON parsing code for this format would be less than 20 lines (compared to the 500 lines currently found in LoadConfigurationFromJSON).&lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;The numeric 0.0 values are just place-holders, of course.&lt;br/&gt;&lt;br/&gt;&lt;span class=\&quot;js-wrapper\&quot;&gt;&lt;/span&gt;&lt;pre class=\&quot;wikicode prettyprint\&quot;&gt;{&lt;br/&gt;  &amp;quot;pen up vector&amp;quot;: {&lt;br/&gt;    &amp;quot;optimize quality&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize balance&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize speed&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  &amp;quot;raster&amp;quot;: {&lt;br/&gt;    &amp;quot;optimize quality&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize balance&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize speed&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  },&lt;br/&gt;  &amp;quot;pen down vector&amp;quot; : {&lt;br/&gt;    &amp;quot;optimize quality&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize balance&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    },&lt;br/&gt;    &amp;quot;optimize speed&amp;quot;: {&lt;br/&gt;      &amp;quot;tvmax&amp;quot;: 0.0,&lt;br/&gt;      &amp;quot;x axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;multi-wave configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;y axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;traveling exhaust configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        },&lt;br/&gt;        &amp;quot;super speed configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      },&lt;br/&gt;      &amp;quot;r axis&amp;quot;: {&lt;br/&gt;        &amp;quot;standard configuration&amp;quot;: {&lt;br/&gt;          &amp;quot;vmax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;amax&amp;quot;: 0.0,&lt;br/&gt;          &amp;quot;jmax&amp;quot;: 0.0&lt;br/&gt;        }&lt;br/&gt;      }&lt;br/&gt;    }&lt;br/&gt;  }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;span class=\&quot;js-wrapper\&quot;&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;prettyPrint();\n\n&lt;/script&gt;\n&lt;/span&gt;&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535460849345,&quot;updated&quot;:1535465825848,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17323&quot;,&quot;author&quot;:&quot;drichter&quot;,&quot;authorFullName&quot;:&quot;David Richter&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I have no preference for the data format.  JSON seems like a reasonable choice to me for the reasons &lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; mentions.&lt;br/&gt;&lt;br/&gt;I see, however, no reason to store that information on the SD card.  I assume that it would make it more difficult to update in the field if there were issues - maybe not.  Perhaps we could encrypt the JSON file or otherwise obfuscate to make it less readable once deployed?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535474630258,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17327&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;div class=\&quot;wiki quote\&quot;&gt;I see, however, no reason to store that information on the SD card.&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;This is the heart of the matter.  We made a philosophically-based decision to store DEVCAPS.INI on the SD card, with the idea that each system should describe its own capabilities instead of advertising its &amp;quot;model number&amp;quot; and letting the control service determine look up its capabilities.  I was assuming that this same design philosophy would apply to the kinematic parameters.&lt;br/&gt;&lt;br/&gt;If this data is stored on the same filesystem as the control service, the problem remains that the control service can potentially connect to many different kinds of laser systems.  If the control service has a library of kinematic settings that are appropriate for different laser systems, how will those laser systems identify themselves?  Are we back to using the model number for this purpose?  My understanding was that we were trying to eliminate our reliance on model numbers.&lt;br/&gt;&lt;br/&gt;I am currently working on an epic response to an e-mail from &lt;a href=\&quot;/user/dschultz\&quot; title=\&quot;dschultz\&quot;&gt;Dave Schultz&lt;/a&gt; that raises similar questions, so I will defer the rest of my discussion to that e-mail.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535475340171,&quot;updated&quot;:1535460849329,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17369&quot;,&quot;author&quot;:&quot;wvalentine&quot;,&quot;authorFullName&quot;:&quot;Wendy Valentine&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;cc group on email&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535494954203,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17429&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/wvalentine\&quot; title=\&quot;wvalentine\&quot;&gt;Wendy Valentine&lt;/a&gt;, do you mean the softwareeng@ulsinc.com group?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535571753493,&quot;updated&quot;:1535475340171,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17444&quot;,&quot;author&quot;:&quot;wvalentine&quot;,&quot;authorFullName&quot;:&quot;Wendy Valentine&quot;,&quot;issueId&quot;:&quot;ST-720&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;It might have been easier on you since you copied most of the group :) I think you included all relevant individuals in the email except me.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535587746251,&quot;updated&quot;:1535494954188,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-772&quot;,&quot;entityId&quot;:&quot;64-9499&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;772&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Error Message:  Print Settings JSON &amp; BIN did not match&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Received this message.   I have run two different jobs very close together this morning:&lt;br/&gt;&lt;a href=\&quot;/issue/ST-764\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Job Will Not Run on .324\&quot;&gt;ST-764&lt;/a&gt; - compass job  (job 2002 in queue)&lt;br/&gt;&lt;a href=\&quot;/issue/ST-766\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;AMPC - Graphic Will Not Raster\&quot;&gt;ST-766&lt;/a&gt; - AMPC clock job  (job 2003 in queue)&lt;br/&gt;&lt;br/&gt;I have attached the job files for job 2002 here (they show the compass job but the AMPC clock job was on the screen).  The AMPC clock job is job 2003.  I will post those files in the next post.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1535475265915&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535575053117&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;9&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-780&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Major&quot;],&quot;valueId&quot;:[&quot;Major&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#ffee9c&quot;,&quot;fg&quot;:&quot;#b45f06&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Bug&quot;],&quot;valueId&quot;:[&quot;Bug&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Open&quot;],&quot;valueId&quot;:[&quot;Open&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#0070e4&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;Screenshot from 2018-08-28 09-49-00.png&quot;,&quot;id&quot;:&quot;70-8057&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/Screenshot%20from%202018-08-28%2009-49-00.png?file=70-8057&amp;c=true&quot;},{&quot;value&quot;:&quot;control.log&quot;,&quot;id&quot;:&quot;70-8058&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/control.log?file=70-8058&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintSettings.bin&quot;,&quot;id&quot;:&quot;70-8059&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintSettings.bin?file=70-8059&amp;c=true&quot;},{&quot;value&quot;:&quot;thumb1024.png&quot;,&quot;id&quot;:&quot;70-8060&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/thumb1024.png?file=70-8060&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintFile.emf&quot;,&quot;id&quot;:&quot;70-8061&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintFile.emf?file=70-8061&amp;c=true&quot;},{&quot;value&quot;:&quot;DesignFile.pdf&quot;,&quot;id&quot;:&quot;70-8062&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/DesignFile.pdf?file=70-8062&amp;c=true&quot;},{&quot;value&quot;:&quot;ImportOptions.json&quot;,&quot;id&quot;:&quot;70-8063&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/ImportOptions.json?file=70-8063&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintSettings.json&quot;,&quot;id&quot;:&quot;70-8064&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintSettings.json?file=70-8064&amp;c=true&quot;},{&quot;value&quot;:&quot;thumb256.png&quot;,&quot;id&quot;:&quot;70-8065&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/thumb256.png?file=70-8065&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintSettings.bin&quot;,&quot;id&quot;:&quot;70-8066&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintSettings.bin?file=70-8066&amp;c=true&quot;},{&quot;value&quot;:&quot;thumb1024.png&quot;,&quot;id&quot;:&quot;70-8067&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/thumb1024.png?file=70-8067&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintFile.emf&quot;,&quot;id&quot;:&quot;70-8068&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintFile.emf?file=70-8068&amp;c=true&quot;},{&quot;value&quot;:&quot;DesignFile.pdf&quot;,&quot;id&quot;:&quot;70-8069&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/DesignFile.pdf?file=70-8069&amp;c=true&quot;},{&quot;value&quot;:&quot;ImportOptions.json&quot;,&quot;id&quot;:&quot;70-8070&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/ImportOptions.json?file=70-8070&amp;c=true&quot;},{&quot;value&quot;:&quot;PrintSettings.json&quot;,&quot;id&quot;:&quot;70-8071&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/PrintSettings.json?file=70-8071&amp;c=true&quot;},{&quot;value&quot;:&quot;thumb256.png&quot;,&quot;id&quot;:&quot;70-8072&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/thumb256.png?file=70-8072&amp;c=true&quot;},{&quot;value&quot;:&quot;Clock - LSM-export.uls&quot;,&quot;id&quot;:&quot;70-8080&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/Clock%20-%20LSM-export.uls?file=70-8080&amp;c=true&quot;},{&quot;value&quot;:&quot;Compass - LSM-export.uls&quot;,&quot;id&quot;:&quot;70-8081&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/Compass%20-%20LSM-export.uls?file=70-8081&amp;c=true&quot;},{&quot;value&quot;:&quot;Screenshot from 2018-08-29 08-02-29.png&quot;,&quot;id&quot;:&quot;70-8123&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/Screenshot%20from%202018-08-29%2008-02-29.png?file=70-8123&amp;c=true&quot;},{&quot;value&quot;:&quot;control.log&quot;,&quot;id&quot;:&quot;70-8124&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/control.log?file=70-8124&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-17326&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Job 2003 job files&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535475296288,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17330&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt;, I did not anticipate the problem that you might attach job files from multiple jobs to a single issue.  I can&amp;#39;t tell apart the files that came from the two different jobs because they have the same filenames.  I think our message should ask you to export the job and attach the LSM-export.uls instead.&lt;br/&gt;&lt;br/&gt;Could you attach LSM-export.uls for one or both of these jobs please?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535477548007,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17331&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Also, I think this must be the wrong control.log file.  It only has entries from 8/21 and doesn&amp;#39;t have any errors about JSON/BIN mismatches.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535477658455,&quot;updated&quot;:1535477547991,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17333&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I purposely made two different logs to split the files. Apparently it dumped all of them together.  Probably a good idea to append the job number to the files - I will make a separate bug for that. &lt;br/&gt;&lt;br/&gt;Here are the LSM export jobs.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535478071374,&quot;updated&quot;:1535475296288,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17354&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt;, the problem is reproducible by importing either of the two attached LSM-export.uls jobs in the LSM.  Then change any print settings in the LSM (for example, change the laser power from 30 to 31) and Save the settings change.  Then restart the control service.&lt;br/&gt;&lt;br/&gt;On my side, it appears that all of the shoulder-related stuff is wrong.  In the version of the PrintParams loaded from the JSON settings file, szShoulder is all zeroes, and all of the fields of m_Shoulder are zeroes.  But in the PrintParams loaded from the .bin file, szShoulder is full of random data, and so are all of the fields of m_Shoulder.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535485131975,&quot;updated&quot;:1535477658455,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17390&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I saw this again this morning (about 0802 or so).  I was actually testing the probe up &amp;amp; down and not actually doing anything with a job.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535555095672,&quot;updated&quot;:1535478071374,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17393&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I don&amp;#39;t know what&amp;#39;s going on with the log file attachments, but this is another one from 8/21 instead of today.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535555323980,&quot;updated&quot;:1535485131960,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17394&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt;, actually I do have a guess what is going on with the out-of-date log file attachments.  I think the log files are now being stored in a different place, not /var/opt/uls-control anymore.  I think the new log file is /var/log/uls-control.log. &lt;br/&gt;&lt;br/&gt;To prevent further confusion of the old log files, please delete /var/opt/uls-control/control.log.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535555632659,&quot;updated&quot;:1535555323980,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17409&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-772&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I am absolutely sure this error is unrelated to either JUB-779 or JUB-780.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535562321376,&quot;updated&quot;:1535555632643,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-131&quot;,&quot;entityId&quot;:&quot;64-6173&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;131&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;All of our JSON parsing code is using an invalid error-handling approach&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The rapidjson library by design does not use C++ exceptions.  This is one of the ways that it achieves its very fast performance.  We do not particularly need its very fast performance &amp;ndash; UlsControl typically parses a JSON file every couple of minutes, and the difference between 10ms and 100ms to parse such a file is totally irrelevant.  I would prefer to use a library that throws meaningful exceptions when error conditions occur, at the expense of somewhat slower performance.&lt;br/&gt;&lt;br/&gt;I was not really focused on that issue when I first started writing code that used rapidjson.  At some point I discovered that rapidjson was using assert() calls to check for various error conditions &amp;ndash; for example, trying to access a field that does not exist in the JSON document.  I very strongly believe that this is an inappropriate use of assert().  Assert() is meant to enforce global invariants whose violation is an indication of a coding error.  Assert() is compiled away to nothing in release builds.  This is an atrocious way to handle run-time errors.&lt;br/&gt;&lt;br/&gt;Apparently the authors of rapidjson think that the coding error is the fault of the user of their library; the calling code should know better than to try to access a field that doesn&amp;#39;t exist.&lt;br/&gt;&lt;br/&gt;Anyway, it appears that my decision at the time was to simply translate the assert() calls into throws of C++ exceptions using the RAPIDJSON_ASSERT macro.  Then I wrote nice simple JSON parsing code (for example, UlsHttpTransition.cpp, LoadPrintSettingsFromJSON) that had a single try/catch around the whole function.&lt;br/&gt;&lt;br/&gt;But now we are using more modern compilers that are detecting some coding errors that weren&amp;#39;t being detected two years ago.  In particular, both Clang and gcc are emitting compiler warnings indicating that RAPIDJSON_ASSERT (which is throwing an exception) is being used in rapidjson functions that are labelled &amp;quot;noexcept&amp;quot;.  The result will be that these exceptions will not be propagated; they will immediately result in a call to std::terminate, which will crash the application.&lt;br/&gt;&lt;br/&gt;So I have two choices:&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt; Use a different JSON parsing library that uses C++ exceptions to indicate error conditions like this.&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Change all of our JSON parsing code to not use operator[] to access fields, but instead explicitly check for the presence of each field before accessing it.  &lt;/li&gt;&lt;/ul&gt;&lt;br/&gt;Unfortunately in both cases, there are hundreds if not thousands of JSON field accesses in our code.  This will be a lot of work.  But it is necessary; currently UlsControl will immediately crash if we feed it a JSON document that is missing expected fields.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1503069454916&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535551559473&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;4&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-716&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-718&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-719&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-720&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-767&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-778&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Feature&quot;],&quot;valueId&quot;:[&quot;Feature&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;In Progress&quot;],&quot;valueId&quot;:[&quot;In Progress&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-9732&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-131&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I spent some time this weekend investigating how much work it will be to fix this.  It will be a lot.  No matter how we do it, it will involve touching every line of code that accesses a field in a JSON file.  There are thousands of such lines.&lt;br/&gt;&lt;br/&gt;I created a feature branch branches/tcrews/JsonErrors.  In that branch, I deleted rapidjson and replaced it with &lt;a href=\&quot;https://github.com/nlohmann/json\&quot; onclick=\&quot;window.open(window.decodeURIComponent('https%3A%2F%2Fgithub.com%2Fnlohmann%2Fjson'), '_blank').opener=null; return false;\&quot;&gt;https://github.com/nlohmann/json&lt;/a&gt;.  This looks like a very nice C++ JSON library.&lt;br/&gt;&lt;br/&gt;I started working my way through the UlsCommon project, fixing up each line of JSON code.  After a total of about three hours of work, I estimate I was less than halfway done just with that project.  I think it would take ten to twenty more hours of work to finish this task.  I have left that branch in its partially-completed state, but I will not continue working on it unless directed by the management.&lt;br/&gt;&lt;br/&gt;In the meantime, if DBServer or UlsControl [edit: or UILauncher] tries to access a JSON file that is missing a field, the application will crash.  This is not quite the major issue that it sounds like because our own software creates those JSON files, and it does not create them with missing fields. [Edit: Except during maintenance, or when we are transitioning between different JSON formats.]  But if a user hand-edited one of our JSON files, that could cause a crash.  Users shouldn&amp;#39;t do that.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1503336174098,&quot;updated&quot;:1507038772507,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-14748&quot;,&quot;author&quot;:&quot;ajones&quot;,&quot;authorFullName&quot;:&quot;Aaron Jones&quot;,&quot;issueId&quot;:&quot;ST-131&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;div class=\&quot;wiki quote\&quot;&gt;Change all of our JSON parsing code to not use operator[] to access fields, but instead explicitly check for the presence of each field before accessing it.  &lt;/div&gt;&lt;br/&gt;&lt;br/&gt;I haven&amp;#39;t looked at the code yet, but is there any chance we could write a clever awk or sed script to modify the code to check for presence before accessing a field?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1527607607741,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-14749&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-131&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;When I made the changes on branches/tcrews/JsonErrors, I used regular expression search and replace as much as possible within my IDE.  I preferred this to sed/awk because it allowed me to be more targeted with the regions of code being affected, and also allowed me to account for minor variations in different code modules.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1527611016821,&quot;updated&quot;:1503336174089,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-16527&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-131&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I removed this issue from the current sprint, even though Tyler is currently working on it, because it is not strictly necessary before our initial software release. Tyler is working on this feature on an SVN branch that will have no effect on the trunk software or the initial released software unless it gets done in time, and the management decides to incorporate this feature into the initial release.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1533926897097,&quot;updated&quot;:1527611016821,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-716&quot;,&quot;entityId&quot;:&quot;64-9196&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;716&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Serialize PrintParams to/from disk using Boost.Serialization instead of JSON&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Because of &lt;a href=\&quot;/issue/ST-131\&quot; target=\&quot;_self\&quot; title=\&quot;All of our JSON parsing code is using an invalid error-handling approach\&quot;&gt;ST-131&lt;/a&gt;, it is highly desirable to stop using rapidjson to serialize PrintParams to/from disk.  (The bogus error-handling approach adopted by this library in the name of performance can cause application termination if we try to access a JSON field that doesn&amp;#39;t exist.)&lt;br/&gt;&lt;br/&gt;My first proposed solution was to keep using JSON, but to use a different library to do it.  This would require changing every line of code that currently access a JSON field.&lt;br/&gt;&lt;br/&gt;But if we&amp;#39;re going to touch every line of this code anyway, it makes more sense to use Boost.Serialization instead of any JSON library.  JSON is suitable as a configuration file format that is intended to be human-edited.  But for PrintParams, we are purely using it as a serialization format.  Boost.Serialization, as indicated by its name, was tailor-made for serialization.  It is &lt;strong&gt;much&lt;/strong&gt; easier to write serialization code with Boost.Serialization than with any JSON library.  The resulting code is far more readable and maintainable.  I am certain that it will be less work to change our PrintParams serialization to use Boost.Serialization than it would be to update all of our PrintParams JSON code, and the end result will be better.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1533925681506&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535495562250&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;2&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-131&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;In Progress&quot;],&quot;valueId&quot;:[&quot;In Progress&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-16523&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-716&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I have not assigned this issue to the current sprint, even though Tyler is currently working on it, because it is not strictly necessary before our initial software release.  Tyler is working on this task on an SVN branch that will have no effect on the trunk software or the initial released software unless it gets done in time, and the management decides to incorporate this feature into the initial release.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1533925895446,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-17195&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-716&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;These changes have been committed to trunk, except for the &amp;quot;instead of&amp;quot; part.  For the time being, the PrintParams are serialized using Boost.Serialization &lt;strong&gt;in addition to&lt;/strong&gt; JSON.  We have added validation code that loads the PrintParams from both JSON and Boost.Serialization and compares the results.  If it finds any mismatches, it sends an error message to the LSM with instructions to send the corresponding files to Tyler so he can debug the issue.&lt;br/&gt;&lt;br/&gt;If we go a week or so without encountering any of these errors, we can take the next step of removing the JSON serialization code and JSON files.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1535134767264,&quot;updated&quot;:1533925895430,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-719&quot;,&quot;entityId&quot;:&quot;64-9202&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;719&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Serialize ImportOptions to/from disk using Boost.Serialization instead of JSON&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Because of &lt;a href=\&quot;/issue/ST-131\&quot; target=\&quot;_self\&quot; title=\&quot;All of our JSON parsing code is using an invalid error-handling approach\&quot;&gt;ST-131&lt;/a&gt;, it is highly desirable to stop using rapidjson to serialize ImportOptions  to/from disk. (The bogus error-handling approach adopted by this library in the name of performance can cause application termination if we try to access a JSON field that doesn&amp;#39;t exist.)&lt;br/&gt;&lt;br/&gt;My first proposed solution was to keep using JSON, but to use a different library to do it. This would require changing every line of code that currently accesses a JSON field.&lt;br/&gt;&lt;br/&gt;But if we&amp;#39;re going to touch every line of this code anyway, it makes more sense to use Boost.Serialization instead of any JSON library. JSON is suitable as a configuration file format that is intended to be human-edited. But for ImportOptions, we are purely using it as a serialization format. Boost.Serialization, as indicated by its name, was tailor-made for serialization. It is much easier to write serialization code with Boost.Serialization than with any JSON library. The resulting code is far more readable and maintainable. &lt;br/&gt;&lt;br/&gt;ImportOptions only consists of three or four values, so this task will be trivial.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1533926606654&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1535495552719&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-131&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;In Progress&quot;],&quot;valueId&quot;:[&quot;In Progress&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 24&quot;],&quot;valueId&quot;:[&quot;2018 08 24&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-9&quot;,&quot;entityId&quot;:&quot;64-4975&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;9&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Implement DatabaseMigrator using cross-platform technology&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;If we are going to run the DB Server on Linux and macOS, then we will need to be able to install and upgrade the materials database on those platforms, which I think means we will need to run the DatabaseMigrator application.&lt;br/&gt;&lt;br/&gt;DatabaseMigrator is written in C#.  That in itself is not a show-stopper, because Mono is available for Mac OS.  But DatabaseMigrator also depends on a few NuGet packages that might not be available in that environment.&lt;br/&gt;&lt;br/&gt;Austyn and I have discussed this.  We are leaning towards using C++ and SOCI, the same technology used by DB Server itself.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1488297180566&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1534342984805&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1534169425994&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;5&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-583&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-584&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-585&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-586&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-587&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;},{&quot;value&quot;:&quot;ST-632&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;parent for&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Feature&quot;],&quot;valueId&quot;:[&quot;Feature&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 10&quot;],&quot;valueId&quot;:[&quot;2018 08 10&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-14741&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-9&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Tyler McLachlan will start working on this now.  Although he has a YouTrack login, his user name does not appear in the list of available names for the Assignee field.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1527531817180,&quot;updated&quot;:1527531827679,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-14932&quot;,&quot;author&quot;:&quot;wvalentine&quot;,&quot;authorFullName&quot;:&quot;Wendy Valentine&quot;,&quot;issueId&quot;:&quot;ST-9&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; Can we turn this into a feature with subtasks to track?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1528157666576,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-15163&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-9&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;This will not actually be done by 6/15, but it does have to be done before the software is deployed.  I didn&amp;#39;t want this feature to get lost.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1528977826716,&quot;updated&quot;:1527531817165,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-15169&quot;,&quot;author&quot;:&quot;wvalentine&quot;,&quot;authorFullName&quot;:&quot;Wendy Valentine&quot;,&quot;issueId&quot;:&quot;ST-9&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; &lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; Do we have a timeline on this yet?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1528990926983,&quot;updated&quot;:1528157666576,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-16619&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;ST-9&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Closing as verified fixed.  I have not noticed any bugaboos in regards to updating the driver &amp;amp; database issues.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1534342984805,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-193&quot;,&quot;entityId&quot;:&quot;64-6844&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;193&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Delete the laser ID columns from the recipes table in the database&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The laser ID columns in the recipes table in the database are no longer used for anything, so they should be deleted.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1508967876053&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1533838544760&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1533323013267&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;2&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Feature&quot;],&quot;valueId&quot;:[&quot;Feature&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 10&quot;],&quot;valueId&quot;:[&quot;2018 08 10&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-16208&quot;,&quot;author&quot;:&quot;tmclachlan&quot;,&quot;authorFullName&quot;:&quot;Tyler McLachlan&quot;,&quot;issueId&quot;:&quot;ST-193&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Migration 33 removes the LaserID columns from Recipes table&lt;br/&gt;33 down restores them with default values&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1533322924019,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-16465&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;ST-193&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;This is an old issue that has been listed as fixed for a while. Toggling to verified fixed - if necessary, it can be reopened if the problem reoccurs.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1533838544760,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[{&quot;value&quot;:&quot;Database&quot;,&quot;cssClass&quot;:&quot;c32&quot;}]}, {&quot;id&quot;:&quot;ST-632&quot;,&quot;entityId&quot;:&quot;64-8887&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;632&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Create the version 31 materials database from scratch without relying on an existing database&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;When the new database migration framework (&lt;a href=\&quot;/issue/ST-586\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Create a database migration framework\&quot;&gt;ST-586&lt;/a&gt;) completes the step &amp;quot;Determine the schema version of the currently installed database&amp;quot;, the answer might be that no database is currently installed at all.&lt;br/&gt;&lt;br/&gt;In that case, the new database migrator needs to create a database at schema version 31 from scratch.  Since we currently lack this capability, our Debian package currently relies on an SVN-controlled copy of the database.  For historical reasons, this is at Test/MaterialsTest/ULSMaterialsTest.fdb.&lt;br/&gt;&lt;br/&gt;The new database migrator should create the new database using a sequence of SQL queries; the text of those queries should be version-controlled as source code.  It will not be necessary to hand-write these queries.  Starting with an existing version 31 database, Firebird development tools are available that can automatically produce the set of SQL queries required to produce that database.&lt;br/&gt;&lt;br/&gt;More history:  Although the Stable (C#) database migrator also controlled the initial database database data as SQL source code, it still depended on SVN-controlled databases (database/dbfiles/ULSMaterials.fdb and ULSMatCustom.fdb).  The only reason for this was that we initially wanted the XLS database to be interchangeable with the UCP1 database.  The Firebird library that we are using is able to read and update databases using the old database file structure used by the UCP1 database, but can&amp;#39;t create databases with that file structure.  So we started with a token database that had the old file structure, deleted all of the tables from that database, then added the initial (migration 0) data.&lt;br/&gt;&lt;br/&gt;We no longer have such an interoperability requirement, so the new cross-platform database migrator can programmatically create a new database with the latest database file structure (or at least the latest file structure supported by the somewhat outdated version of Firebird that we&amp;#39;re using), then populate that database using only SQL queries.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1531140035738&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1533241129155&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1533213951411&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-9&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 10&quot;],&quot;valueId&quot;:[&quot;2018 08 10&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-587&quot;,&quot;entityId&quot;:&quot;64-8741&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;587&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Implement a proof-of-concept database migration using the new framework&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Although we do not particularly need to change the current database schema, pick a database refactoring from our backlog (&lt;a href=\&quot;http://youtrack.intranet.ulsinc.com/issues?q=tag:%20Database%20%23Unresolved%20\&quot; onclick=\&quot;window.open(window.decodeURIComponent('http%3A%2F%2Fyoutrack.intranet.ulsinc.com%2Fissues%3Fq%3Dtag%3A%2520Database%2520%2523Unresolved%2520'), '_blank').opener=null; return false;\&quot;&gt;http://youtrack.intranet.ulsinc.com/issues?q=tag:%20Database%20%23Unresolved%20&lt;/a&gt;) and implement it in the C++ database migrator as a proof of concept.  The easier the better, since we are pressed for time.  As long as it demonstrates the database migration capability (including the hooks into our deployment process), that is all we need.&lt;br/&gt;&lt;br/&gt;For example, &lt;a href=\&quot;/issue/ST-193\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Delete the laser ID columns from the recipes table in the database\&quot;&gt;ST-193&lt;/a&gt; would be an easy one.  Just dropping some unused columns from one of our tables.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1529411834994&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1533241118594&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1533232017783&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-9&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 10&quot;],&quot;valueId&quot;:[&quot;2018 08 10&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;ST-586&quot;,&quot;entityId&quot;:&quot;64-8739&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;ST&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;586&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Create a database migration framework&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;It should provide the same features as the C# database migration framework, namely:&lt;br/&gt;&lt;ul class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt;Determine the schema version of the currently-installed database.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Determine the desired destination schema version.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Back up the currently-installed database.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;Successively apply up- or down-migrations to the current schema version until the desired destination schema version is reached.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;On failure, restore the database to its pre-migration state.  &lt;br/&gt;&lt;/li&gt;&lt;li&gt;On failure, communicate the failure to the outside world by a process exit code.  The caller (that is, the installation script) will need to handle this failure appropriately.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;On success, delete the backup database.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;On success, record the current schema version in the DB_VERSION table of the database.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;On success, communicate success to the outside world by a process exit code.&lt;br/&gt;&lt;/li&gt;&lt;li&gt;The migration framework should provide a utility class/function that make it easy to wrap a SQL script into a migration, similar to the FbScriptMigration class in the C# DatabaseMigrator.  This will make it easier to incorporate the same migrations into the Stable and Trunk database migrators.&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1529411559729&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1533241109437&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1533213954297&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;ST-9&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Task&quot;],&quot;valueId&quot;:[&quot;Task&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Milestone&quot;,&quot;value&quot;:[&quot;2018 08 10&quot;],&quot;valueId&quot;:[&quot;2018 08 10&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-15621&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;ST-586&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;For reference, the source code for the C# database migrator is at &lt;a href=\&quot;http://eng03.intranet.ulsinc.com/svn/ULS/Software/UCP2/branches/Releases/Stable2017/database/DatabaseMigrator\&quot; onclick=\&quot;window.open(window.decodeURIComponent('http%3A%2F%2Feng03.intranet.ulsinc.com%2Fsvn%2FULS%2FSoftware%2FUCP2%2Fbranches%2FReleases%2FStable2017%2Fdatabase%2FDatabaseMigrator'), '_blank').opener=null; return false;\&quot;&gt;http://eng03.intranet.ulsinc.com/svn/ULS/Software/UCP2/branches/Releases/Stable2017/database/DatabaseMigrator&lt;/a&gt;&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1531140113317,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;UCP2-1336&quot;,&quot;entityId&quot;:&quot;64-3286&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1336&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Do not rely on Win32 APIs for INI file access&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;If possible, we should replace INI files with JSON files so we can use a common file format and libraries for all configuration-related features.&lt;br/&gt;&lt;br/&gt;But even if we decide to keep using INI files, we should use cross-platform code to access them instead of using the Win32 ...PrivateProfile... functions.  These functions are also inefficient because they open, fully read, and close the file for each accessed setting. &lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1453246548412&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1528977702211&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1473189233823&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;UCP2-1322&quot;,&quot;type&quot;:&quot;Subtask&quot;,&quot;role&quot;:&quot;subtask of&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Refactoring&quot;],&quot;valueId&quot;:[&quot;Refactoring&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#ffee9c&quot;,&quot;fg&quot;:&quot;#b45f06&quot;}},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Address In Version&quot;,&quot;value&quot;:[&quot;2016 4Q&quot;],&quot;valueId&quot;:[&quot;2016 4Q&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Issue Type&quot;,&quot;value&quot;:[&quot;Software&quot;],&quot;valueId&quot;:[&quot;Software&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Spent time&quot;,&quot;value&quot;:[&quot;44369&quot;],&quot;valueId&quot;:[&quot;18w2d3h29m&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;Timer time&quot;,&quot;value&quot;:[&quot;1465343083356&quot;],&quot;valueId&quot;:[&quot;1465343083356&quot;],&quot;color&quot;:null}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-5734&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1336&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;In the common directory, I created and unit-tested a new class named UcpInfoIniFile.  DB Server now exclusively uses this class for all INI file access.  UcpInfoIniFile is implemented using the cross-platform SimpleIni library, and no longer relies on any Win32 APIs.  It also addresses the file re-opening/parsing problem.&lt;br/&gt;&lt;br/&gt;ULS Control should also be modified to use this class.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1462285551072,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;UCP2-1711&quot;,&quot;entityId&quot;:&quot;64-4172&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1711&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Gcode Import is Broken&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Using the service XLSMW in embedded mode.   Imported &amp;amp; ran clunking dolphins DXF with no issue. Clunking dolphins shows on the LCD &amp;amp; LSM both as it should.&lt;br/&gt;&lt;br/&gt;Imported gcode file &amp;quot;03_2013.ngc&amp;quot;.    LSM shows blank white space on desktop/remote computer.   LSM shows blank white space on embedded/local computer.   On both embedded &amp;amp; desktop LSMs the job title shows on the main LSM viewer and the thumbnail artwork &amp;amp; job name show up in the job queue normally.  The LCD still displays clunking dolphins but if toggle to next job, then the blank white space will show up.&lt;br/&gt;&lt;br/&gt;I clicked run and the air came on, job counter went to 00:51 but the XY never moved from its last position.  Within a minute or so, I got the swirly wheel (ULS control had stopped).   I logged into the embedded pc via remote desktop and restarted the ULS control service and was able to run the last good job (clunking dolphins) with no issue.&lt;br/&gt;&lt;br/&gt;Gcode import does not like this file - 03_2013.ngc - which ran ok a few days ok.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1468256349802&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1468597592413&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1468539846471&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;26&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;UCP2-1728&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;},{&quot;value&quot;:&quot;UCP2-1703&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Release Critical&quot;],&quot;valueId&quot;:[&quot;Release Critical&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#8d5100&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Bug&quot;],&quot;valueId&quot;:[&quot;Bug&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Address In Version&quot;,&quot;value&quot;:[&quot;2016 July&quot;],&quot;valueId&quot;:[&quot;2016 July&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#fed74a&quot;,&quot;fg&quot;:&quot;#444&quot;}},{&quot;name&quot;:&quot;Spent time&quot;,&quot;value&quot;:[&quot;725&quot;],&quot;valueId&quot;:[&quot;1d4h5m&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;Timer time&quot;,&quot;value&quot;:[&quot;1468438738399&quot;],&quot;valueId&quot;:[&quot;1468438738399&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;03_2013.ngc&quot;,&quot;id&quot;:&quot;70-2883&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/03_2013.ngc?file=70-2883&amp;c=true&quot;},{&quot;value&quot;:&quot;17_2013 - Clunking Dolphins.dxf&quot;,&quot;id&quot;:&quot;70-2884&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/17_2013%20-%20Clunking%20Dolphins.dxf?file=70-2884&amp;c=true&quot;},{&quot;value&quot;:&quot;GCode2ULS Entry Point Not Found.png&quot;,&quot;id&quot;:&quot;70-2910&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/GCode2ULS%20Entry%20Point%20Not%20Found.png?file=70-2910&amp;c=true&quot;},{&quot;value&quot;:&quot;artwork.txt&quot;,&quot;id&quot;:&quot;70-2937&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/artwork.txt?file=70-2937&amp;c=true&quot;},{&quot;value&quot;:&quot;~2.TMP&quot;,&quot;id&quot;:&quot;70-2938&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/~2.TMP?file=70-2938&amp;c=true&quot;},{&quot;value&quot;:&quot;~1.TMP&quot;,&quot;id&quot;:&quot;70-2939&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/~1.TMP?file=70-2939&amp;c=true&quot;},{&quot;value&quot;:&quot;1000.png&quot;,&quot;id&quot;:&quot;70-2944&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/1000.png?file=70-2944&amp;c=true&quot;},{&quot;value&quot;:&quot;1000a.png&quot;,&quot;id&quot;:&quot;70-2945&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/1000a.png?file=70-2945&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-6349&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Just tried importing a different gcode file (one that also worked well as recently as late last week) and got the same behavior as described above.  This is a gcode wide import issue.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468256563309,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6357&quot;,&quot;author&quot;:&quot;wvalentine&quot;,&quot;authorFullName&quot;:&quot;Wendy Valentine&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/abontrager\&quot; title=\&quot;abontrager\&quot;&gt;Austyn Bontrager&lt;/a&gt; Are you able to look into this in Tim&amp;#39;s absence?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468280781160,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6374&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I see this error dialog when I try to import 03_2013.ngc&lt;br/&gt;&lt;br/&gt;EDIT: Tim suggested the error dialog was probably caused by inconsistent binaries in my build directory. After doing a &amp;quot;Rebuild All&amp;quot;, I can&amp;#39;t reproduce it.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468368149442,&quot;updated&quot;:1468434980497,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6399&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Just rechecked this one. Now it works with no issue.  Whatever caused this one to fail originally was probably fixed by all of the bug fixes done yesterday.&lt;br/&gt;&lt;br/&gt;Closing as verified fixed.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468435505669,&quot;updated&quot;:1468256563309,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6402&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;With LSMInst-6.03.59.01 2016.07.11.0322.exe&lt;br/&gt;&lt;br/&gt;Steps to reproduce (Windows 10):&lt;br/&gt;&lt;br/&gt;&lt;ol class=\&quot;wiki-list0\&quot;&gt;&lt;li&gt; Press Ctrl-Shift-Esc to open Task Manager&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Switch to the Services tab&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the ULSControl service has Status &amp;quot;Running&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Open LSM&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Import icon (at the top, near the middle, like a box with an arrow pointing in)&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select 03_2013.ngc and click the Open button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Put a checkmark in the &amp;quot;Center image&amp;quot; box&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select &amp;quot;1 unit = 1 inch&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that Material is 251200 (the code for Anodized Aluminum)&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that Platform is XLS10MWH&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Import button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that a thumbnail appears in the drop-down list. It looks like a red bed&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that it is displayed in the main view of the LSM, consistent with the thumbnail&lt;br/&gt;&lt;/li&gt;&lt;li&gt; However, observe that if I zoom all the way out, it shows a blank white field &amp;ndash; the red lines of the artwork disappear. When I zoom back in they reappear.&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Estimate icon (looks like a clock)&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Expand the Lasers selection in the lower right&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select these lasers:&lt;br/&gt;&lt;ol class=\&quot;wiki-list1\&quot;&gt;&lt;li&gt; 30W CO2 10.6&lt;br/&gt;&lt;/li&gt;&lt;li&gt; 30W CO2 9.3&lt;br/&gt;&lt;/li&gt;&lt;li&gt; 40W Fiber 1.06&lt;br/&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt; Click the Estimate button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the Estimate percentage starts counting up&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Cancel button (for me it took a long time, and estimated 15:44:49)&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the import icon again&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select 03_2013.ngc again, and click the Open button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Remove the checkmark from the &amp;quot;Center image&amp;quot; box&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select &amp;quot;1 unit = 1 mm&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Import button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe a second item added to the job drop-down, and the thumbnail looks identical to the first one&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the main view is a blank white field (no artwork displayed). Zooming in or out does not make any lines appear&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Estimate button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the Estimate percentage starts counting up&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Cancel button (for me it estimates 00:37:16)&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the import icon a third time&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select 03_2013.ngc and click the Open button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Leave the &amp;quot;Center image&amp;quot; box un-checked&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Select &amp;quot;1 unit = 1 inch&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Import button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe the third job with thumbnail added to the drop-down list&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the main field is blank. Unlike the first job (when I selected &amp;quot;Center image&amp;quot;) zooming in and out does not make any lines appear&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Click the Estimate button&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that the percentage stays at 0% for awhile, and then the main view shows a spinner with &amp;quot;Connecting to localhost...&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; In Task Manager, observe that the ULSControl service has status &amp;quot;Stopped&amp;quot;&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Start the ULSControl service&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that LSM shows only two jobs in the job drop-down list&lt;br/&gt;&lt;/li&gt;&lt;li&gt; However, observe 3 ~ULS*.json files and 3 ~*.TMP files in C:\\ProgramData\\ULSNEX&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Close and reopen LSM&lt;br/&gt;&lt;/li&gt;&lt;li&gt; Observe that it still shows only two jobs in the job drop-down list&lt;/li&gt;&lt;/ol&gt;&lt;br/&gt;Expected behavior is that at step 39 it would start estimating the job, instead of crashing.&lt;br/&gt;&lt;br/&gt;Each time I estimate the bad job, it causes ULSControl to crash. The bad job seems to replace the preceding good job, so that if I keep restarting ULSControl and estimating the last job, the list size decrements each time and eventually LSM doesn&amp;#39;t list any jobs anymore.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468437771580,&quot;updated&quot;:1468439244682,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6403&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;With installer LSMInst-6.03.59.01 2016.07.13.0323.exe:&lt;br/&gt;&lt;br/&gt;At step 12: the thumbnail for the first job is a blank white field (no red lines)&lt;br/&gt;&lt;br/&gt;At step 27: instead of a blank field I see tiny artwork&lt;br/&gt;&lt;br/&gt;ULSControl still crashes at step 39 as with the installer from the 11th.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468439681129,&quot;updated&quot;:1468439884107,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6407&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/abontrager\&quot; title=\&quot;abontrager\&quot;&gt;Austyn Bontrager&lt;/a&gt; The Gcode import itself worked well for me (that did not previously).   I did see an issue with the thumbnails for the gcode jobs being all white/blank and will enter another bug for that issue.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468446203814,&quot;updated&quot;:1468435505653,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6408&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Comparing the two imported jobs with unit=inch:&lt;br/&gt;&lt;br/&gt;The EMF files differ only in the CENTERIMAGE option: CENTERIMAGE(0) vs CENTERIMAGE(1)&lt;br/&gt;&lt;br/&gt;The JSON files differ in CenterImage, and also in Relocation: in the &amp;quot;bad&amp;quot; job with CenterImage=0, PageParams1.Relocation=[0,0,0]; in the job with CenterImage=1, PageParams1.Relocation=[-21017,22463,0]&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468446823259,&quot;updated&quot;:1468447592203,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6410&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Comparing the two jobs with CenterImage=0:&lt;br/&gt;&lt;br/&gt;I don&amp;#39;t see any obvious differences between the EMF files (the arc coordinates are all different).&lt;br/&gt;&lt;br/&gt;The JSON files differ in MarginlessImage and in Duplication:&lt;br/&gt;in the &amp;quot;bad&amp;quot; job with unit=inch:&lt;br/&gt; PageParams1.MarginlessImage=[372152,-334801,940430,0], PageParams1.Duplication=[1,1,0,0,35517,20925,1]&lt;br/&gt;in the &amp;quot;good&amp;quot; job with unit=mm:&lt;br/&gt; PageParams1.MarginlessImage=[322053,171259,344426,180754], PageParams1.Duplication=[1,1,0,0,1398,593,1]&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468448951544,&quot;updated&quot;:1468446823259,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6414&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Proximate cause is an exception at Planning/PathConstruction/VectorGroup.cpp line 392 wm5NURBSCurves_.back() because wm5NURBSCurves_.size() == 0&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468451619072,&quot;updated&quot;:1468448951544,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6415&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; I set LogDiagnosticsData=1 in UCPINFO.INI and got this log file.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468454493820,&quot;updated&quot;:1468451619072,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6417&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I have resolved the issue that causes the crash under these conditions.  Although the underlying problem still remains, it is no longer a crashing bug.  So I&amp;#39;m removing the Crash tag from this issue.&lt;br/&gt;&lt;br/&gt;Whatever the source (GCode or otherwise), if the Planner encounters artwork that is entirely off-field, it throws an exception whose message indicates exactly this.  The user will be shown this message.  The job will not run, and it will not crash.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468459232114,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6418&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/Miles\&quot; title=\&quot;Miles\&quot;&gt;Miles McNerney&lt;/a&gt; The attached ~1.TMP is the EMF with CENTERIMAGE enabled; ~2.TMP is almost identical but CENTERIMAGE is disabled. ~1.TMP was accompanied by a JSON file with PageParams1.Relocation set to non-zero values, and the artwork appeared on-screen. ~2.TMP was accompanied by a JSON file with PageParams1.Relocation set to all zeroes, and the artwork did not appear, i.e. off-screen.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468460592453,&quot;updated&quot;:1468454493804,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6419&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;... apparently I should have attached the files first and then added comments...&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468460661906,&quot;updated&quot;:1468460592437,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6426&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt;, we&amp;#39;re confused about something.  The GCode file attached to this issue is the identical file to the one attached to &lt;a href=\&quot;/issue/UCP2-1703\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import - Custom Scaling does not work.\&quot;&gt;UCP2-1703&lt;/a&gt;.  How did you get the importer to work for &lt;a href=\&quot;/issue/UCP2-1703\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import - Custom Scaling does not work.\&quot;&gt;UCP2-1703&lt;/a&gt;?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468528317580,&quot;updated&quot;:1468459232114,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6427&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; Probably &amp;quot;center image&amp;quot; was turned on for the import&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468528668402,&quot;updated&quot;:1468460661906,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6428&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; &lt;a href=\&quot;/user/abontrager\&quot; title=\&quot;abontrager\&quot;&gt;Austyn Bontrager&lt;/a&gt; I closed this one out as verified fixed yesterday (there is a separate issue with the artwork in the thumbnails not showing up &amp;mdash; &lt;a href=\&quot;/issue/UCP2-1728\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import Files Not Showing artwork in thumbnails in Queue\&quot;&gt;UCP2-1728&lt;/a&gt;).   The attached file &amp;mdash; 03_2013.ngc &amp;mdash; runs with no issue for me.  I ran it yesterday afternoon ok and just downloaded that file from this bug report and reran it again just now with no issue.&lt;br/&gt;&lt;br/&gt;I assumed Austyn was checking a related issue when he reopened it.  For me though, I call it verified fixed but will leave open at your discretion.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468529317473,&quot;updated&quot;:1468529340998,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6429&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt;, at this point we may be talking about two different problems.  Do you habitually check the &amp;quot;Center artwork&amp;quot; option?  In that case, this artwork does work.  But if you don&amp;#39;t check the &amp;quot;Center artwork&amp;quot; option, then with the current code you will not be able to run this job.  That seems like a big enough problem to warrant a YouTrack issue &amp;ndash; if not this one, then another one.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468530956217,&quot;updated&quot;:1468528317565,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6430&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;No, now that I think about it, I still don&amp;#39;t understand what&amp;#39;s going on.  If &lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt; always used the &amp;quot;Center artwork&amp;quot; option, then he never would have seen any problem with this artwork and wouldn&amp;#39;t have opened this issue.&lt;br/&gt;&lt;br/&gt;Jerry, to be clear, from the time you opened this issue to the time you marked it as verified fixed, we never changed anything about GCode importing!  The only change that has been committed for this YouTrack issue is that the Planning library was modified to generate an error message instead of crashing.  But that wouldn&amp;#39;t have affected your ability to run the job &amp;ndash; it only would have kept UlsControl from crashing.&lt;br/&gt;&lt;br/&gt;A moment ago Tyler did commit a real GCode importer change:  The GCode importer was applying a half-field offset to all of the artwork when the Center option was &lt;em&gt;not&lt;/em&gt; selected, which was causing this artwork to be shifted entirely off the field.  This was the problem that we &lt;em&gt;thought&lt;/em&gt; originally prompted the creation of this YouTrack issue, but now I&amp;#39;m not so sure.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468531743928,&quot;updated&quot;:1468530956170,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6431&quot;,&quot;author&quot;:&quot;abontrager&quot;,&quot;authorFullName&quot;:&quot;Austyn Bontrager&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The importer remembers the selected units and whether to center, across invocations.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468533063799,&quot;updated&quot;:1468528668402,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6432&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/abontrager\&quot; title=\&quot;abontrager\&quot;&gt;Austyn Bontrager&lt;/a&gt; &lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; Correct, I used the center option and it works well.  Doing this previously I also imported as centered (on 7/11) and the 03_2013.ngc file would not even start as described in the original post.&lt;br/&gt;&lt;br/&gt;On 7/13, I rechecked it and it ran well.&lt;br/&gt;&lt;br/&gt;Just now, I imported as not centered and it put the file up into the top right corner.  Even though half of it was off screen, I ran the job and it ran correctly up to the point when it had to do the long oval in the top right then threw a &amp;quot;112 - incorrect start position&amp;quot; error (probably because the oval was off screen.&lt;br/&gt;&lt;br/&gt;I don&amp;#39;t necessarily consider what just happened as bug because if the artwork came in partially offscreen, I would just reimport with center to run again.  I guess it could be something a customer would see and consider a bug but I think most people would just reimport and center.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468533162581,&quot;updated&quot;:1468529317473,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6434&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;When the artwork is partially off-field, the code is designed to clip the artwork at the field boundaries.  It should run only the part of the artwork that is on-field, and should not produce any error messages.  So I would consider the &amp;quot;incorrect start position&amp;quot; error message to be a bug &amp;ndash; but not a &lt;a href=\&quot;/issue/UCP2-1711\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import is Broken\&quot;&gt;UCP2-1711&lt;/a&gt; bug.  &lt;br/&gt;&lt;br/&gt;If the artwork is &lt;em&gt;entirely&lt;/em&gt; off-field (as was the case when I imported this artwork with units=inches and centering disabled), the software should display an error message indicating this, and not run the job (because there would be no point in running it).&lt;br/&gt;&lt;br/&gt;I can&amp;#39;t explain the difference between Jerry&amp;#39;s reported 7/11 and 7/13 behavior if both times the centering option was enabled.  We did not change anything between those two dates that should have affected that behavior.&lt;br/&gt;&lt;br/&gt;I also can&amp;#39;t explain why Jerry is currently able to import with the centering option turned off, and the artwork ends up partially on the field.  When I tried this on 7/13, the artwork ended up completely off-field, which is what triggered the UlsControl crash.  I fixed that crash on 7/13 but the artwork was still completely off-field even with that fix.  (That&amp;#39;s how I tested my change, so I&amp;#39;m sure of it.)&lt;br/&gt;&lt;br/&gt;At this point my best guess is that Jerry and the software guys are observing two different sets of problems.  Perhaps Jerry&amp;#39;s problems were indeed caused by JSON parsing errors, which were introduced on Friday 7/8, observed by Jerry on Monday 7/11, and fixed by Austyn on 7/12.&lt;br/&gt;&lt;br/&gt;Since Tyler did make some real GCode importer changes today, I think the two GCode files should be re-tested with tomorrow&amp;#39;s installer, both centered and non-centered, with units=inches (the designed units for this artwork).  If everything works as expected (and no error messages!), then I would be willing to call this one fixed, despite the mysteries in between here and there.  But there&amp;#39;s lots of cooks in the kitchen right now, so if anyone disagrees I&amp;#39;m sure they&amp;#39;ll speak up.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468537455656,&quot;updated&quot;:1468531743928,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6435&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt; Did you import this artwork with a custom scale, like about 1 unit = 0.5&amp;quot;?  In the GCode file, this artwork is about 36&amp;quot; wide, but your screenshot shows about half of that.&lt;br/&gt;&lt;br/&gt;If you imported with a custom scale, that might explain the difference between your current results and ours.  The difference between 7/11 and 7/13, I&amp;#39;m willing to attribute to the JSON changes.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468539515415,&quot;updated&quot;:1468537455656,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6436&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; That is correct.  The ones I did today were 1 unit = 0.5&amp;quot;.   Yesterday when I checked, I did it four ways and all were good:&lt;br/&gt;1 unit = 1 inch (huge)&lt;br/&gt;1 unit = 1 mm (small)&lt;br/&gt;1 unit = 1 mil (tiny)&lt;br/&gt;1 unit = 0.500&amp;quot; (medium)&lt;br/&gt;&lt;br/&gt;I used the 1 unit = 0.500&amp;quot; since this one is the best size fit for this particular file.  Most of the other DXFs I use 1 unit = 1 inch and they take about the same space as the file I have been using at 1 unit = 0.500&amp;quot;.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468539766082,&quot;updated&quot;:1468533162566,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6437&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Tomorrow I will recheck all four sizes again with centered &amp;amp; uncentered and post the results...&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468539807579,&quot;updated&quot;:1468539766066,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6439&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1711&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Closing as verified fixed.  Gcode import itself is working correctly.  I checked the same 03_2013.ngc file in four different scales:&lt;br/&gt;1 Unit = 1 Inch&lt;br/&gt;1 Unit = 1 mil&lt;br/&gt;1 Unit = 1 mm&lt;br/&gt;1 Unit = 0.500&amp;quot;&lt;br/&gt;In each case, I had the design centered, and it worked well in all four cases.&lt;br/&gt;&lt;br/&gt;I did run into the same issue I had yesterday with non-centered (partially off the page artwork) where it run most of the file then throw a &amp;quot;112-Incorrect Start Position&amp;quot; error.  I will be entering a separate bug for this issue.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468597592413,&quot;updated&quot;:1468539807579,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[{&quot;value&quot;:&quot;GCode importer&quot;,&quot;cssClass&quot;:&quot;c14&quot;}]}, {&quot;id&quot;:&quot;UCP2-1703&quot;,&quot;entityId&quot;:&quot;64-4150&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1703&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Gcode Import - Custom Scaling does not work.&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Discovered while checking out the fix for &lt;a href=\&quot;/issue/UCP2-1666\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import Scaling Does Not Work\&quot;&gt;UCP2-1666&lt;/a&gt;.&lt;br/&gt;&lt;br/&gt;Steps to reproduce:&lt;br/&gt;1. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 inch&amp;quot; and run - runs ok&lt;br/&gt;2. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 mil&amp;quot; and run - runs ok&lt;br/&gt;3. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 mm&amp;quot; and run - run ok&lt;br/&gt;&lt;br/&gt;4. Import attached .ngc file with custom scaling set to &amp;quot;1 unit = 0.500&amp;quot; and run - file appears at LSM but no artwork appears on LSM main view, LSM thumbnail or LCD.  When start is pressed, the air &amp;amp; exhaust come on and the LSM counts up to 00:12 then the ULS Control stops (swirly wheel &amp;amp; disconnect appear on LSM).&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1467817337585&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1468435817942&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1467988095121&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;5&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;UCP2-1711&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;},{&quot;value&quot;:&quot;UCP2-1666&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Bug&quot;],&quot;valueId&quot;:[&quot;Bug&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Issue Type&quot;,&quot;value&quot;:[&quot;Software&quot;],&quot;valueId&quot;:[&quot;Software&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;03_2013.ngc&quot;,&quot;id&quot;:&quot;70-2855&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/03_2013.ngc?file=70-2855&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-6312&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1703&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;This seems to be a gcode only issue.  I imported the same file as a dxf and it works in all four modes with no issue.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467817445056,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6322&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1703&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I have added a new tag named &amp;quot;Crash&amp;quot; that I will apply to any issue where the &amp;quot;swirly wheel&amp;quot; is mentioned.  I think it is a pretty big deal when the ULS Control service dies, especially because it doesn&amp;#39;t necessarily always successfully restart.  When we find a reproducible bug that kills the ULS Control service, we should figure out what caused it to crash, and modify the software so that it doesn&amp;#39;t crash anymore &amp;ndash; it should display an error message to the user.&lt;br/&gt;&lt;br/&gt;So in this case there might be two issues.  First, maybe the GCode importer isn&amp;#39;t producing a valid print job file with custom scaling.  Second, when it receives an invalid print job file, ULS Control crashes instead of handling the error condition.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467822897848,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6333&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1703&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The GCode custom scaling part of this bug is fixed.  &lt;br/&gt;&lt;br/&gt;However, nothing has been done to address the problem that UlsControl crashed when fed a bad print job.  I&amp;#39;ve been thinking about how to handle the general problem of UlsControl crashes.  I think this general problem will be much easier to solve once UlsControl is switched over to use the Thrift framework, and to use exceptions internally for error handling.  Both of these issues will be addressed during the refactoring effort.&lt;br/&gt;&lt;br/&gt;So I will go ahead and close out this issue, but I want to leave the Crashed tag attached to it, so that after our refactoring we can try to reproduce each crashing scenaraio and ensure that UlsControl doesn&amp;#39;t crash anymore.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467988089942,&quot;updated&quot;:1467822897833,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6350&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1703&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Unable to check until &lt;a href=\&quot;/issue/UCP2-1711\&quot; class=\&quot;issue-resolved\&quot; target=\&quot;_self\&quot; title=\&quot;Gcode Import is Broken\&quot;&gt;UCP2-1711&lt;/a&gt; is fixed.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468256636631,&quot;updated&quot;:1467817445056,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6400&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1703&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Verified as fixed.  Ran each of these ok:&lt;br/&gt;1. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 inch&amp;quot; and run - runs ok&lt;br/&gt;2. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 mil&amp;quot; and run - runs ok&lt;br/&gt;3. Import attached .ngc file with scaling set to &amp;quot;1 unit = 1 mm&amp;quot; and run - runs ok&lt;br/&gt;4. Import attached .ngc file with custom scaling set to &amp;quot;1 unit = 0.500&amp;quot; - runs Ok&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1468435817942,&quot;updated&quot;:1468256636615,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[{&quot;value&quot;:&quot;Control&quot;,&quot;cssClass&quot;:&quot;c14&quot;},{&quot;value&quot;:&quot;GCode importer&quot;,&quot;cssClass&quot;:&quot;c14&quot;},{&quot;value&quot;:&quot;Crash&quot;,&quot;cssClass&quot;:&quot;c20&quot;}]}, {&quot;id&quot;:&quot;UCP2-1666&quot;,&quot;entityId&quot;:&quot;64-4069&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1666&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Gcode Import Scaling Does Not Work&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;I have the same file in two formats (.dxf &amp;amp; .ngc[gcode]).     When importing the DXF, I can select inches, mm, mils or custom and the result will scale to the correct size.   With gcode import, the image imports as the same size regardless of what scaling is selected.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1466707073887&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1467817337663&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1467735888492&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;7&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;links&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;UCP2-1703&quot;,&quot;type&quot;:&quot;Relates&quot;,&quot;role&quot;:&quot;relates to&quot;}]},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Bug&quot;],&quot;valueId&quot;:[&quot;Bug&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Issue Type&quot;,&quot;value&quot;:[&quot;Software&quot;],&quot;valueId&quot;:[&quot;Software&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;02_2013 .dxf&quot;,&quot;id&quot;:&quot;70-2728&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/02_2013%20.dxf?file=70-2728&amp;c=true&quot;},{&quot;value&quot;:&quot;02_2013 .ngc&quot;,&quot;id&quot;:&quot;70-2729&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/02_2013%20.ngc?file=70-2729&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-6097&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/crisser\&quot; title=\&quot;crisser\&quot;&gt;Chris Risser&lt;/a&gt;, &lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; tells me that the GCode file format has a directive that explicitly sets the units.  The GCode importer does honor that setting.  However, some files are missing this directive.&lt;br/&gt;&lt;br/&gt;How should we handle this?  I don&amp;#39;t think it makes sense to override the units if they are already stored in the file, but if they &lt;em&gt;aren&amp;#39;t&lt;/em&gt; stored in the file, the units need to be set.  Unfortunately, the code that displays the dialog box where the user specifies the units doesn&amp;#39;t know whether or not the units are already encoded in the file.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1466804420439,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6102&quot;,&quot;author&quot;:&quot;crisser&quot;,&quot;authorFullName&quot;:&quot;Chris Risser&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; &lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; How much work would it be check if units are specified and only ask if they are not? That would be ideal.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1466947510308,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6103&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/crisser\&quot; title=\&quot;crisser\&quot;&gt;Chris Risser&lt;/a&gt;, the code that displays the dialog is in ControlUI, which has no visibility into the GCode file.  Only the GCode importer knows how to read a GCode file, but GCode Importer is not run until after the dialog has been shown.&lt;br/&gt;&lt;br/&gt;To implement this feature as desired, Control UI needs some knowledge about the content of the GCode file before the importer application runs.  It might not be too hard to write some C# code that scans the GCode file and looks for the scale directive.  Or we could augment the GCode importer so it could be run in a special mode where it doesn&amp;#39;t actually import anything, but simply returns a status indicating whether or not a scale directive is present in the GCode file.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467039643190,&quot;updated&quot;:1466804420439,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6104&quot;,&quot;author&quot;:&quot;crisser&quot;,&quot;authorFullName&quot;:&quot;Chris Risser&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/tcrews\&quot; title=\&quot;tcrews\&quot;&gt;Tim Crews&lt;/a&gt; &lt;a href=\&quot;/user/tmclachlan\&quot; title=\&quot;tmclachlan\&quot;&gt;Tyler McLachlan&lt;/a&gt; &lt;a href=\&quot;/user/drichter\&quot; title=\&quot;drichter\&quot;&gt;David Richter&lt;/a&gt; Ok I thought of another way to handle this. We can add a selection in the import window &amp;quot;use embedded scale if available.&amp;quot; If the user selects this option the importer will attempts to find and use a scale embedded in the file. IF the importer does not find the scale we could have it do one of two things: it can either report an error and not import or report an error and ask for a scale. Either error method is ok with me. the more desirable is to ask the user for a scale but if this is too difficult I am ok with just throwing the error and abandoning the import. The user can always start the process again and enter a scale in the main import window.&lt;br/&gt;&lt;br/&gt;Would the above be easier to implement than pre-scanning the file?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467040274773,&quot;updated&quot;:1466947510308,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6105&quot;,&quot;author&quot;:&quot;drichter&quot;,&quot;authorFullName&quot;:&quot;David Richter&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Perhaps we should ignore the units in the file and treat it as we do dxf files - having the user select the units.  &lt;br/&gt;&lt;br/&gt;Additionally, if the user selects inches, the selection should be the default for the next time they import a file using the gcode import.  I say this because basically nobody changes units.  If someone generates the gcode abroad, 99.9% of the time its going to be in mm.  In the US, its almost always in inches.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467046183198,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6296&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Tyler modified the GCode importer to ignore the units that are specified in the GCode itself.  Instead, it uses the units specified in the command line arguments.&lt;br/&gt;&lt;br/&gt;The ControlUI import infrastructure already saves the user&amp;#39;s previous settings as the defaults for the next import.  So, with those provisions, I think it should work the way David suggested on 6/27.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467735884904,&quot;updated&quot;:1467039643190,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6311&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1666&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Verified as fixed with inches, mm &amp;amp; mils.   Custom scaling does not work - will enter a separate bug for this one.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467816932235,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[{&quot;value&quot;:&quot;GCode importer&quot;,&quot;cssClass&quot;:&quot;c14&quot;}]}, {&quot;id&quot;:&quot;UCP2-1676&quot;,&quot;entityId&quot;:&quot;64-4089&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1676&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Gcode Files are not coming in Centered&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Even though I have center checked in both the LPS and Gcode import window, gocode files do not import centered.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1466791751987&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1467814193456&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1467814184174&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;2&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Bug&quot;],&quot;valueId&quot;:[&quot;Bug&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;001.png&quot;,&quot;id&quot;:&quot;70-2849&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/001.png?file=70-2849&amp;c=true&quot;},{&quot;value&quot;:&quot;002.png&quot;,&quot;id&quot;:&quot;70-2850&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/002.png?file=70-2850&amp;c=true&quot;},{&quot;value&quot;:&quot;003.png&quot;,&quot;id&quot;:&quot;70-2851&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/003.png?file=70-2851&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-6301&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1676&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;&lt;a href=\&quot;/user/jsnead\&quot; title=\&quot;jsnead\&quot;&gt;Jerry Snead&lt;/a&gt;, Tyler can&amp;#39;t reproduce this problem.  He tried both centering options with multiple GCode files and they were properly centered.  However, the thumbnails are coming out wrong.  I think that is probably a separate issue.&lt;br/&gt;&lt;br/&gt;Can you provide more details about the failure you observed?&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467750168068,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-6305&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1676&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Verified as fixed.   Imported gcode file without centering (001.png)&lt;br/&gt;Imported gcode file with LPS systems settings centering checked only (002.png)&lt;br/&gt;Imported gcode file with Import window centering checked only (003.png)&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1467814193456,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[{&quot;value&quot;:&quot;GCode importer&quot;,&quot;cssClass&quot;:&quot;c14&quot;}]}, {&quot;id&quot;:&quot;UCP2-1402&quot;,&quot;entityId&quot;:&quot;64-3433&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1402&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Support camera registration with G-code imported files&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The G-code importer currently produces a print job file containing only the red pen color.  There is currently no way to represent the camera registration fiducials as a separate color.&lt;br/&gt;&lt;br/&gt;According to Darryl Morton, Micron currently has to add fiducials afterwards as a workaround.  I don&amp;#39;t understand how that is possible, unless they have some way to edit existing imported print job files.&lt;br/&gt;&lt;br/&gt;Even if it is possible, of course it would be more convenient if the distinction between the artwork and the fiducial markers could be conveyed in the G-code file and automatically recognized by the G-code importer.  The G-code importer could then emit the fiducial markers using the magenta pen color.   &lt;br/&gt;&lt;br/&gt;Perhaps the G-code &amp;quot;tool change&amp;quot; directive could be used to accomplish this.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1455128176765&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1465224961124&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1465224905322&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Feature&quot;],&quot;valueId&quot;:[&quot;Feature&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Fixed&quot;],&quot;valueId&quot;:[&quot;Fixed&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#7dbd36&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Address In Version&quot;,&quot;value&quot;:[&quot;2.0 Release&quot;],&quot;valueId&quot;:[&quot;2.0 Release&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;Issue Type&quot;,&quot;value&quot;:[&quot;Software&quot;],&quot;valueId&quot;:[&quot;Software&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-5889&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1402&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;The G-code importer utility was augmented so that all G-code directives that encode a single (x,y) point result in the insertion of a 1/4&amp;quot; magenta cross-mark in the output EMF file.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1465224961124,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}, {&quot;id&quot;:&quot;UCP2-1083&quot;,&quot;entityId&quot;:&quot;64-2695&quot;,&quot;jiraId&quot;:null,&quot;field&quot;:[{&quot;name&quot;:&quot;projectShortName&quot;,&quot;value&quot;:&quot;UCP2&quot;},{&quot;name&quot;:&quot;numberInProject&quot;,&quot;value&quot;:&quot;1083&quot;},{&quot;name&quot;:&quot;summary&quot;,&quot;value&quot;:&quot;Implement a G-code importer&quot;},{&quot;name&quot;:&quot;description&quot;,&quot;value&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Micron has been promised a G-code file importer.  In the LSM workflow this would work similarly to the existing DXF or PDF importer. &lt;br/&gt;&lt;br/&gt;Micron has provided an example of the kind of file they would like to be able to import.  I&amp;#39;ve attached that to this issue.&lt;br/&gt;&lt;br/&gt;Tyler McLachlan (who works with Tim) has been implementing this feature and has a version that is about ready to test.  It is being implemented as a standalone application, just like the existing DXF importer.  Eventually a new dialog will need to be added to the ControlUI to launch this application.&lt;/div&gt;\n&quot;},{&quot;name&quot;:&quot;created&quot;,&quot;value&quot;:&quot;1442938951664&quot;},{&quot;name&quot;:&quot;updated&quot;,&quot;value&quot;:&quot;1451931131345&quot;},{&quot;name&quot;:&quot;updaterName&quot;,&quot;value&quot;:&quot;jsnead&quot;},{&quot;name&quot;:&quot;updaterFullName&quot;,&quot;value&quot;:&quot;Jerry Snead&quot;},{&quot;name&quot;:&quot;resolved&quot;,&quot;value&quot;:&quot;1451931128256&quot;},{&quot;name&quot;:&quot;reporterName&quot;,&quot;value&quot;:&quot;tcrews&quot;},{&quot;name&quot;:&quot;reporterFullName&quot;,&quot;value&quot;:&quot;Tim Crews&quot;},{&quot;name&quot;:&quot;commentsCount&quot;,&quot;value&quot;:&quot;2&quot;},{&quot;name&quot;:&quot;votes&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;name&quot;:&quot;Priority&quot;,&quot;value&quot;:[&quot;Normal&quot;],&quot;valueId&quot;:[&quot;Normal&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#e6f6cf&quot;,&quot;fg&quot;:&quot;#4da400&quot;}},{&quot;name&quot;:&quot;Type&quot;,&quot;value&quot;:[&quot;Feature&quot;],&quot;valueId&quot;:[&quot;Feature&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;State&quot;,&quot;value&quot;:[&quot;Verified&quot;],&quot;valueId&quot;:[&quot;Verified&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#409600&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Assignee&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;tmclachlan&quot;,&quot;fullName&quot;:&quot;Tyler McLachlan&quot;}]},{&quot;name&quot;:&quot;Address In Version&quot;,&quot;value&quot;:[&quot;1.5 Release&quot;],&quot;valueId&quot;:[&quot;1.5 Release&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;Issue Type&quot;,&quot;value&quot;:[&quot;Software&quot;],&quot;valueId&quot;:[&quot;Software&quot;],&quot;color&quot;:{&quot;bg&quot;:&quot;#2f9890&quot;,&quot;fg&quot;:&quot;#fff&quot;}},{&quot;name&quot;:&quot;Timer time&quot;,&quot;value&quot;:[&quot;1442939011475&quot;],&quot;valueId&quot;:[&quot;1442939011475&quot;],&quot;color&quot;:null},{&quot;name&quot;:&quot;attachments&quot;,&quot;value&quot;:[{&quot;value&quot;:&quot;3503_LASER_C2_PNL.PGM&quot;,&quot;id&quot;:&quot;70-1442&quot;,&quot;url&quot;:&quot;http://youtrack.intranet.ulsinc.com/_persistent/3503_LASER_C2_PNL.PGM?file=70-1442&amp;c=true&quot;}]}],&quot;comment&quot;:[{&quot;id&quot;:&quot;69-3220&quot;,&quot;author&quot;:&quot;tcrews&quot;,&quot;authorFullName&quot;:&quot;Tim Crews&quot;,&quot;issueId&quot;:&quot;UCP2-1083&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;Tyler doesn&amp;#39;t have a YouTrack login, so I will show it as assigned to myself and in progress.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1442939013971,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]},{&quot;id&quot;:&quot;69-4436&quot;,&quot;author&quot;:&quot;jsnead&quot;,&quot;authorFullName&quot;:&quot;Jerry Snead&quot;,&quot;issueId&quot;:&quot;UCP2-1083&quot;,&quot;parentId&quot;:null,&quot;deleted&quot;:false,&quot;jiraId&quot;:null,&quot;text&quot;:&quot;&lt;div class=\&quot;wiki text\&quot;&gt;verified as fixed.&lt;/div&gt;\n&quot;,&quot;shownForIssueAuthor&quot;:false,&quot;created&quot;:1451931131345,&quot;updated&quot;:null,&quot;permittedGroup&quot;:null,&quot;replies&quot;:[]}],&quot;tag&quot;:[]}]" />
      </map>
    </option>
  </component>
</application>